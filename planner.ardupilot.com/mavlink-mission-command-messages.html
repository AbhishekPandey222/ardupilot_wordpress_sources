<!-- 
START METADATA - Only title should be translated 
slug: mavlink-mission-command-messages 
title: MAVLink Mission Command Messages (MAV_CMD) 
id: 4272 
menu_order: 0 
post_parent_id: 0 
post_parent_stub:  
post_parent_title:  
END METADATA 
-->
This article describes the specific set of MAV_CMD mission commands and parameters that are supported by Copter, Plane and Rover.

[warning]This is a  WORK IN PROGRESS. It has not been reviewed, and is full of questions/actions (usually preceeded by "#HW" or "TODO". The list of what commands are supported in each platform are likely to be correct. The copter-specific documentation is more likely to be correct as it is based on existing copter mission docs. [/warning]

<!--more-->

<h1>Overview</h1>

The MAVLink protocol defines a large number of <a href="https://github.com/mavlink/mavlink/blob/master/message_definitions/v1.0/common.xml#L531" title="MAV_CMD">MAV_CMD</a> waypoint command types (sent in a <code>MAVLink_mission_item_message</code>). ArduPilot implements handling for the subset of these commands and command-parameters that are <em>most relevant</em> and meaningful for each of the vehicles. Unsupported commands that are sent to a particular autopilot will simply be dropped.

This article lists and describes the commands and command-parameters that are supported on each of the vehicle types. Any parameter that is "grey" is not supported by the autopilot and will be ignored (they are still documented to make it clear which properties that are supported by the <a href="https://github.com/mavlink/mavlink/blob/master/message_definitions/v1.0/common.xml#L531" title="MAV_CMD">MAV_CMD protocol</a> are not implemented by the vehicle.

Some commands and command-parameters are not implemented because they are not relevant for particular vehicle types (for example "MAV_CMD_NAV_TAKEOFF" command makes sense for Plane and Copter but not Rover, and the pitch parameter only makes sense for Plane). There are also some potentially useful command-parameters that are not handled because there is a limit to the message size, and a decision has been made to prioritise some parameters over others.

[note]There is additional information about the supported commands on Copter (from a Mission Planner perspective) in the <a href="http://copter.ardupilot.com/wiki/mission-planning-and-analysis/mission-command-list/" title="Copter Mission Command List">Copter Mission Command List</a>. [/note]


<h2>Types of commands</h2>

There are several different types of commands that can be used within missions:
<ul>
	<li>Navigation commands are used to control the movement of the vehicle, including takeoff, moving to and around waypoints, changing altitude, and landing. </li>
	<li>DO commands are for auxiliary functions and do not affect the vehicle’s position (for example, setting the camera trigger distance, or setting a servo value).</li>
	<li>Condition commands are used to delay DO commands until some condition is met, for example the UAV reaches a certain altitude or distance from the waypoint.</li>
</ul>

During a mission at most one “Navigation” command and one “Do” or "Condition" command can be running at one time. A typical mission might set a waypoint (NAV command), add a CONDITION command that doesn't complete until a certain distance from the destination (<a href="#mav_cmd_condition_distance">MAV_CMD_CONDITION_DISTANCE</a>), and then add a number of DO commands that are executed sequentially (for example <a href="#mav_cmd_do_set_cam_trigg_dist">MAV_CMD_DO_SET_CAM_TRIGG_DIST</a> to take pictures at regular intervals) when the condition completes.

[note]CONDITION and DO commands are associated with the preceding NAV command: if the UAV reaches the waypoint before these commands are executed, the next NAV command is loaded and they will be skipped.[/note]


<h2>Frames of reference</h2>

Many of the commands (in particular the <a href="#navigation_commands">NAV_ commands</a>) include position/location information. The information is provided relative to a particular "frame of reference", which is specified in the message's <code>frame</code> field. 

Copter and Rover Mission use <a href="#mav_cmd_do_set_home">MAV_CMD_DO_SET_HOME</a> command to set the "home position" in the global coordinate frame (MAV_FRAME_GLOBAL), <a href="http://en.wikipedia.org/wiki/World_Geodetic_System" title="WikiPedia link for WGS584">WGS84 coordinate system</a>, where altitude is relative to mean sea level. All other commands use the MAV_FRAME_GLOBAL_RELATIVE_ALT frame, which uses the same latitude and longitude, but sets altitude as relative to the <em>home position</em> (home altitude = 0).

Plane commands can additionally use MAV_FRAME_GLOBAL_TERRAIN_ALT frame of reference. This again has the same WGS84 frame of reference for latitude/Longitude, but specifies altitude relative to ground height (as defined in a terrain database).

[note]The other frame types defined in the MAVLink protocol (see <a href="https://github.com/mavlink/mavlink/blob/master/message_definitions/v1.0/common.xml#L434" title="MAV_FRAME enum">MAV_FRAME</a>) are not supported for mission commands.[/note]


<h2>How accurate is the information?</h2>


The lists were inferred from the <a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AP_Mission/AP_Mission.cpp#L466">switch statement in <code>AP_Mission::mavlink_to_mission_cmd</code></a> and the command handler switch for each vehicle type (<a href="https://github.com/diydrones/ardupilot/blob/master/ArduPlane/commands_logic.pde#L56">Plane</a>, <a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/commands_logic.pde#L49">Copter</a>, <a href="https://github.com/diydrones/ardupilot/blob/master/APMrover2/commands_logic.pde#L36">Rover</a>). 


<h2>How to interpret the commands parameters</h2>



<h1>OPEN QUESTIONS</h1>


#HW TODO LINK TO THIS FROM http://dev.ardupilot.com/wiki/apmpilot_project_developer_information/mavlink-commands/ when all items have records
This page provides details of all the mission commands (i.e. <a href="https://pixhawk.ethz.ch/mavlink/" target="_blank">MAVLink commands</a>) supported by Copter that can be run as part of a mission (i.e. <a href="wiki/auto-mode/">AUTO flight mode</a>).
#HW TODO / Questions <a href="#mav_cmd_nav_return_to_launch">MAV_CMD_NAV_RETURN_TO_LAUNCH</a> - not supported by Rover but has a specific handler - best to move that to the general handler?



<h1>Commands supported by Copter</h1>

This list of commands was inferred from the command handler in <a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/commands_logic.pde#L49">/ArduCopter/commands_logic.pde</a>.

<a href="#mav_cmd_nav_waypoint">MAV_CMD_NAV_WAYPOINT</a>
<a href="#mav_cmd_nav_return_to_launch">MAV_CMD_NAV_RETURN_TO_LAUNCH</a>
<a href="#mav_cmd_condition_delay">MAV_CMD_CONDITION_DELAY</a>
<a href="#mav_cmd_condition_distance">MAV_CMD_CONDITION_DISTANCE</a>
<a href="#mav_cmd_do_change_speed">MAV_CMD_DO_CHANGE_SPEED</a>
<a href="#mav_cmd_do_set_home">MAV_CMD_DO_SET_HOME</a>
<a href="#mav_cmd_do_set_servo">MAV_CMD_DO_SET_SERVO</a>
<a href="#mav_cmd_do_set_relay">MAV_CMD_DO_SET_RELAY</a>
<a href="#mav_cmd_do_repeat_servo">MAV_CMD_DO_REPEAT_SERVO</a>
<a href="#mav_cmd_do_repeat_relay">MAV_CMD_DO_REPEAT_RELAY</a>
<a href="#mav_cmd_do_digicam_configure">MAV_CMD_DO_DIGICAM_CONFIGURE</a> (Camera enabled only)       
<a href="#mav_cmd_do_digicam_control">MAV_CMD_DO_DIGICAM_CONTROL</a> (Camera enabled only)
<a href="#mav_cmd_do_set_cam_trigg_dist">MAV_CMD_DO_SET_CAM_TRIGG_DIST</a> (Camera enabled only)
<a href="#mav_cmd_do_set_roi">MAV_CMD_DO_SET_ROI</a>   #Note, does not check if Mount enabled - is checked on rover/plane - so not (Gimbal/mount enabled only)
<a href="#mav_cmd_do_set_mode">MAV_CMD_DO_SET_MODE</a>
<a href="#mav_cmd_do_jump">MAV_CMD_DO_JUMP</a>
<a href="#mav_cmd_do_set_parameter">MAV_CMD_DO_SET_PARAMETER</a> <!-- 

MAV_CMD_DO_CONTROL_VIDEO (Camera enabled only). This is hidden. It is in ROVER, PLANE, COPTER hanlders but not in the master handler. Confirmed not implemented in copter --><!-- 

plane/copter

-->
<a href="#mav_cmd_nav_takeoff">MAV_CMD_NAV_TAKEOFF</a>
<a href="#mav_cmd_nav_land">MAV_CMD_NAV_LAND</a>
<a href="#mav_cmd_nav_loiter_unlim">MAV_CMD_NAV_LOITER_UNLIM</a>
<a href="#mav_cmd_nav_loiter_turns">MAV_CMD_NAV_LOITER_TURNS</a>
<a href="#mav_cmd_nav_loiter_time">MAV_CMD_NAV_LOITER_TIME</a>
<a href="#mav_cmd_condition_change_alt">MAV_CMD_CONDITION_CHANGE_ALT</a>  <!-- 

copter only

-->
<a href="#mav_cmd_nav_spline_waypoint">MAV_CMD_NAV_SPLINE_WAYPOINT</a>
<a href="#mav_cmd_condition_yaw">MAV_CMD_CONDITION_YAW</a>
<a href="#mav_cmd_do_mount_control">MAV_CMD_DO_MOUNT_CONTROL</a>
<a href="#mav_cmd_do_parachute">MAV_CMD_DO_PARACHUTE</a> (Parachute enabled only)
<a href="#mav_cmd_do_gripper">MAV_CMD_DO_GRIPPER</a> (EPM enabled only)
<a href="#mav_cmd_do_guided_limits">MAV_CMD_DO_GUIDED_LIMITS</a> (NAV_GUIDED only)
<a href="#mav_cmd_nav_guided_enable">MAV_CMD_NAV_GUIDED_ENABLE</a> (NAV_GUIDED only)



<h1>Commands supported by Plane</h1>

This list of commands was inferred from the command handler in <a href="https://github.com/diydrones/ardupilot/blob/master/ArduPlane/commands_logic.pde">/ArduPlane/commands_logic.pde</a>.

<a href="#mav_cmd_nav_waypoint">MAV_CMD_NAV_WAYPOINT</a>
<a href="#mav_cmd_nav_return_to_launch">MAV_CMD_NAV_RETURN_TO_LAUNCH</a>
<a href="#mav_cmd_condition_delay">MAV_CMD_CONDITION_DELAY</a>
<a href="#mav_cmd_condition_distance">MAV_CMD_CONDITION_DISTANCE</a>
<a href="#mav_cmd_do_change_speed">MAV_CMD_DO_CHANGE_SPEED</a>
<a href="#mav_cmd_do_set_home">MAV_CMD_DO_SET_HOME</a>
<a href="#mav_cmd_do_set_servo">MAV_CMD_DO_SET_SERVO</a>
<a href="#mav_cmd_do_set_relay">MAV_CMD_DO_SET_RELAY</a>
<a href="#mav_cmd_do_repeat_servo">MAV_CMD_DO_REPEAT_SERVO</a>
<a href="#mav_cmd_do_repeat_relay">MAV_CMD_DO_REPEAT_RELAY</a>
<a href="#mav_cmd_do_digicam_configure">MAV_CMD_DO_DIGICAM_CONFIGURE</a> (Camera enabled only)       
<a href="#mav_cmd_do_digicam_control">MAV_CMD_DO_DIGICAM_CONTROL</a> (Camera enabled only)
<a href="#mav_cmd_do_set_cam_trigg_dist">MAV_CMD_DO_SET_CAM_TRIGG_DIST</a> (Camera enabled only)
<a href="#mav_cmd_do_set_roi">MAV_CMD_DO_SET_ROI</a> (Gimbal/mount enabled only)  
<a href="#mav_cmd_do_set_mode">MAV_CMD_DO_SET_MODE</a>
<a href="#mav_cmd_do_jump">MAV_CMD_DO_JUMP</a>
<a href="#mav_cmd_do_set_parameter">MAV_CMD_DO_SET_PARAMETER</a> <!-- 

MAV_CMD_DO_CONTROL_VIDEO (Camera enabled only). This is hidden. It is in ROVER, PLANE, COPTER hanlders but not in the master handler. Confirmed not implemented in copter --><!-- 

plane/copter 

-->
<a href="#mav_cmd_nav_takeoff">MAV_CMD_NAV_TAKEOFF</a>
<a href="#mav_cmd_nav_land">MAV_CMD_NAV_LAND</a>
<a href="#mav_cmd_nav_loiter_unlim">MAV_CMD_NAV_LOITER_UNLIM</a>
<a href="#mav_cmd_nav_loiter_turns">MAV_CMD_NAV_LOITER_TURNS</a>
<a href="#mav_cmd_nav_loiter_time">MAV_CMD_NAV_LOITER_TIME</a>
<a href="#mav_cmd_condition_change_alt">MAV_CMD_CONDITION_CHANGE_ALT</a>  <!-- 

plane only 

-->
<a href="#mav_cmd_nav_continue_and_change_alt">MAV_CMD_NAV_CONTINUE_AND_CHANGE_ALT</a>
<a href="#mav_cmd_do_inverted_flight">MAV_CMD_DO_INVERTED_FLIGHT</a>
<a href="#mav_cmd_do_land_start">MAV_CMD_DO_LAND_START</a>
<a href="#mav_cmd_do_fence_enable">MAV_CMD_DO_FENCE_ENABLE</a>



<h1>Commands supported by Rover</h1>

This list of commands was inferred from the command handler in <a href="https://github.com/diydrones/ardupilot/blob/master/APMrover2/commands_logic.pde#L36">/APMrover2/commands_logic.pde</a>.

<a href="#mav_cmd_nav_waypoint">MAV_CMD_NAV_WAYPOINT</a>
<a href="#mav_cmd_condition_delay">MAV_CMD_CONDITION_DELAY</a>
<a href="#mav_cmd_condition_distance">MAV_CMD_CONDITION_DISTANCE</a>
<a href="#mav_cmd_do_change_speed">MAV_CMD_DO_CHANGE_SPEED</a>
<a href="#mav_cmd_do_set_home">MAV_CMD_DO_SET_HOME</a>
<a href="#mav_cmd_do_set_servo">MAV_CMD_DO_SET_SERVO</a>
<a href="#mav_cmd_do_set_relay">MAV_CMD_DO_SET_RELAY</a>
<a href="#mav_cmd_do_repeat_servo">MAV_CMD_DO_REPEAT_SERVO</a>
<a href="#mav_cmd_do_repeat_relay">MAV_CMD_DO_REPEAT_RELAY</a>
<a href="#mav_cmd_do_digicam_configure">MAV_CMD_DO_DIGICAM_CONFIGURE</a> (Camera enabled only)       
<a href="#mav_cmd_do_digicam_control">MAV_CMD_DO_DIGICAM_CONTROL</a> (Camera enabled only)
<a href="#mav_cmd_do_set_cam_trigg_dist">MAV_CMD_DO_SET_CAM_TRIGG_DIST</a> (Camera enabled only)
<a href="#mav_cmd_do_set_roi">MAV_CMD_DO_SET_ROI</a> (Gimbal/mount enabled only)
<a href="#mav_cmd_do_set_mode">MAV_CMD_DO_SET_MODE</a>
<a href="#mav_cmd_do_jump">MAV_CMD_DO_JUMP</a>
<a href="#mav_cmd_do_set_parameter">MAV_CMD_DO_SET_PARAMETER</a>

<!-- 
MAV_CMD_DO_CONTROL_VIDEO (Camera enabled only). 

This is hidden. It is in ROVER, PLANE, COPTER hanlders but not in the master handler. Confirmed not implemented in copter 

== DO_CONTROL_VIDEO - Basic WP ==
<table>
<tbody>
<tr>
<td>Option</td>
<td>Alt</td>
<td>Lat</td>
<td>Lon</td>
</tr>
<tr>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

               <entry value="200" name="MAV_CMD_DO_CONTROL_VIDEO">
                    <description>Control onboard camera system.</description>
                    <param index="1">Camera ID (-1 for all)</param>
                    <param index="2">Transmission: 0: disabled, 1: enabled compressed, 2: enabled raw</param>
                    <param index="3">Transmission mode: 0: video stream, >0: single images every n seconds (decimal)</param>
                    <param index="4">Recording: 0: disabled, 1: enabled compressed, 2: enabled raw</param>
                    <param index="5">Empty</param>
                    <param index="6">Empty</param>
                    <param index="7">Empty</param>
               </entry>
-->


 
<h1>Navigation commands</h1>

Navigation commands are used to control the movement of the vehicle, including takeoff, moving to and around waypoints, and landing.

NAV commands have the highest priority. Any DO_ and CONDITION_ commands that have not executed when a NAV command is loaded are skipped (for example, if a waypoint completes and the NAV command for another waypoint is loaded, and unexecuted DO/CONDITION commands associated with the first waypoint are dropped.


<h2>MAV_CMD_NAV_WAYPOINT</h2>

Navigate to the specified position. 

Supported by: Copter, Plane, Rover. 


[site_Copter]
<h3>Copter</h3>

The Copter will fly a straight line to the specified latitude, longitude and altitude. It will then wait at the point for a specified delay time and then proceed to the next waypoint. 

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th></tr>
<tr"><td><strong>param1</strong></td><td>Delay</td><td>Hold time at mission waypoint in decimal seconds (Copter/Rover only) </td></tr>
<tr style="color: #C0C0C0;"><td><strong>param2</strong></td><td></td><td>Acceptance radius in meters (when plain inside the sphere of this radius, the waypoint is considered reached) (Plane only).</td></tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>0 to pass through the WP, if > 0 radius in meters to pass by WP. Positive value for clockwise orbit, negative value for counter-clockwise orbit. Allows trajectory control.</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Desired yaw angle at waypoint target.(rotary wing)</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Target latitude. If zero, the Copter will hold at the current latitude.</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Target longitude. If zero, the Copter will hold at the current longitude.</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Target altitude. If zero, the Copter will hold at the current altitude.</td>
</tr>
</table>

Parameters 2-4 are not supported on Copter:
<ul>
	<li><strong>Hit Rad</strong> - is supposed to hold the distance (in meters) from the target point that will qualify the waypoint as complete. This command is not supported. Instead the <a href="http://copter.ardupilot.com/wiki/configuration/arducopter-parameters/#waypoint_radius_wpnav_radius">WPNAV_RADIUS</a> parameter should be used (see "WP Radius" field in screen shot or adjust through the Standard Parameters List).  Even the WPNAV_RADIUS is only used when the waypoint has a Delay. With no delay specified the waypoint will be considered complete when the virtual point that the vehicle is chasing reaches the waypoint. This can be 10m (or more) ahead of the vehicle meaning that the vehicle will turn towards the following waypoint long before it actually reaches the current waypoint</li>
	<li><strong>Yaw Ang</strong> - is supposed to hold the resulting yaw angle in degrees (0=north, 90 = east). Instead use a <a href="#mav_cmd_condition_yaw">MAV_CMD_CONDITION_YAW</a> command.</li>
</ul>

<b>Mission Planner screenshots</b>

[caption width="1024" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/WayPoint.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/WayPoint.png" width="1024" height="575" alt="Copter: Mission Planner Settings for WAYPOINT command" class /></a> Copter: Mission Planner Settings for WAYPOINT command[/caption]
[/site_Copter]

[site_Plane]
<h3>Plane</h3>

The vehicle will fly to the specified latitude, longitude and altitude. The waypoint is considered "complete" when Plane is within the specified radius of the target location, at which point Plane processes the next command. 

The protocol additionally provides for the plane to circle the waypoint with a specified radius and direction for a specified time (Delay). These parameters are not support by Copter.


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;"><td><strong>param1</strong></td><td>Delay</td><td>Hold time at mission waypoint in decimal seconds (Copter/Rover only).</td>
</tr>
<tr><td><strong>param2</strong></td><td>Hit Rad</td><td>Acceptance radius in meters (waypoint is complete when the plane is this close to the waypoint location (Plane only).</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>0 to pass through the WP, if > 0 radius in meters to pass by WP. Positive value for clockwise orbit, negative value for counter-clockwise orbit. Allows trajectory control.</td></tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Desired yaw angle at waypoint target (rotary wing).</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Target latitude</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Target longitude</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Target altitude</td>
</tr>
</table>
[/site_Plane]


[site_Rover]
<h3>Rover</h3>
Rover is the same as Copter (above) except that the altitude is irrelevant (and is ignored).

#TODO: Is there any behaviour implemented to roam around the waypoint? Or does Rover just stop
[/site_Rover]

#HW TODO - Waypoint option bitmask - what to say about this? Note, hidden as a comment in source for this page
<!-- 
<strong>Waypoint option bitmask</strong> - not yet available in the Mission Planner
<table>
<tbody>
<tr align="left" valign="middle">
<td>bit 0</td>
<td>Altitude is stored</td>
<td>0: Absolute</td>
<td>1: Relative</td>
</tr>
<tr align="left" valign="middle">
<td>bit 1</td>
<td>Change Alt between WP</td>
<td>0: Gradually</td>
<td>1: ASAP</td>
</tr>
<tr align="left" valign="middle">
<td>bit 2</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr align="left" valign="middle">
<td>bit 3</td>
<td>Req.to hit WP.alt to continue</td>
<td>0: No</td>
<td>1: Yes</td>
</tr>
<tr align="left" valign="middle">
<td>bit 4</td>
<td>Relative to Home</td>
<td>0: No</td>
<td>1: Yes</td>
</tr>
<tr align="left" valign="middle">
<td>bit 5</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr align="left" valign="middle">
<td>bit 6</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr align="left" valign="middle">
<td>bit 7</td>
<td>Move to next Command</td>
<td>0: YES</td>
<td>1: Loiter until commanded</td>
</tr>
</tbody>
</table>

-->



<h2>MAV_CMD_NAV_TAKEOFF</h2>

Takeoff (either from ground or by hand-launch). It should be the first command of nearly all Plane and Copter missions.

Supported by: Copter, Plane (not Rover). 

[site_Copter]
<h3>Copter</h3>
The vehicle will climb straight up from it’s current location to the specified altitude.  If the mission is begun while the copter is already flying, the vehicle will climb straight up to the specified altitude, if the vehicle is already above the altitude the command will be ignored and the mission will move onto the next command immediately.


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;"><td><strong>param1</strong></td><td>Grade %</td><td>Pitch/climb angle (Plane only). </td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td><strong>param4</strong></td><td></td><td>Yaw angle (if magnetometer present), ignored without magnetometer</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param5</strong></td><td>Lat</td><td>Latitude</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param6</strong></td><td>Lon</td><td>Longitude</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Altitude</td>
</tr>
</table>

<b>Mission planner screenshots</b>

[caption width="1025" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/TakeOff.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/TakeOff.png" width="1025" height="575" alt="Copter: Mission Planner Settings for TAKEOFF command" class /></a> Copter: Mission Planner Settings for TAKEOFF command[/caption]

[/site_Copter]
[site_Plane]

<h3>Plane</h3>
The plane climbs to the specified altitude (at the specified pitch/climb angle) before proceeding to the next waypoint. 

The plane is <em>only</em> attempting to climb at this point and can be pushed off its heading by wind. The pitch value is the <em>minimum</em> climb angle the when using an airspeed sensor, and <em>maximum</em> angle when <strong>not</strong> using an airspeed sensor.


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr><td><strong>param1</strong></td><td>Grade %</td><td>Pitch/climb angle (Plane only). </td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td><strong>param4</strong></td><td></td><td>Yaw angle (if magnetometer present), ignored without magnetometer</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param5</strong></td><td>Lat</td><td>Latitude</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param6</strong></td><td>Lon</td><td>Longitude</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Altitude</td>
</tr>
</table>

[/site_Plane]




<h2>MAV_CMD_NAV_LOITER_UNLIM</h2>

Loiter at the specified location for an unlimited amount of time. 

Supported by: Copter, Plane (not Rover).

[site_Copter]
<h3>Copter</h3>

Fly to the specified location and then loiter there indefinitely — where loiter means "wait in place" (rather than "circle"). If zero is specified for a latitude/longitude/altitude parameter then the current location value for the parameter will be used.

The mission will not proceed past this command while in AUTO mode. In order to break out of this command you need to change the mode (i.e. to MANUAL). If there are subsequent commands then you can continue the mission at the next command by switching back to AUTO mode IFF the Copter MIS_RESTART parameter is set to resume (otherwise the mission will restart).

#HW TODO / Question: Is the above statement correct? Is there any preferred way to "go to the next step" other than this one? HOw is it supposed to be used - I'm guessing that you'd normally use this to get to a point "hands off" and then manually kick off move to next step once you get around to it?
#HW TODO / Question: Is "wait in place correct?" - ie will it GPS lock to location, or will the vehicle be allowed to drift?
#HW TODO - update the arducopter mission paramters to say that it waits not circles - they incorrect.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td>param1</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param3</strong></td><td></td><td>Radius around MISSION, in meters. If positive loiter clockwise, else counter-clockwise</td></tr>
<tr style="color: #C0C0C0;">
    <td><strong>param4</strong></td><td></td><td>Desired yaw angle.</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Target latitude. If zero, the vehicle will loiter at the current latitude.</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Target longitude. If zero, the vehicle will loiter at the current longitude.</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Target altitude. If zero, the vehicle will loiter at the current altitude.</td>
</tr>
</table>

<b>Mission planner screenshots</b>

[caption width="1025" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_LoiterUnlimited.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_LoiterUnlimited.png" width="1025" height="147" alt="Copter: Mission Planner Settings for LOITER_UNLIM command" class /></a> Copter: Mission Planner Settings for LOITER_UNLIM command[/caption]

[/site_Copter]

[site_Plane]
<h3>Plane</h3>

Fly to the specified location and then loiter there indefinitely — where loiter means "circle the waypoint". If zero is specified for a latitude/longitude/altitude parameter then the current location value for the parameter will be used. YOu can also specify the radius and direction for the loiter.

The mission will not proceed past this command while in AUTO mode. In order to break out of this command you need to change the mode (i.e. to MANUAL). If there are subsequent commands then you can continue the mission at the next command by switching back to AUTO mode IFF the Copter MIS_RESTART parameter is set to resume (otherwise the mission will restart).

#HW TODO / Question: Is the above statement correct? Is there any preferred way to "go to the next step" other than this one? HOw is it supposed to be used - I'm guessing that you'd normally use this to get to a point "hands off" and then manually kick off move to next step once you get around to it? 


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td>param1</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr>
    <td><strong>param3</strong></td><td></td><td>Radius around waypoint, in meters. Specify as a positive value to loiter clockwise, negative to move counter-clockwise.</td></tr>
<tr style="color: #C0C0C0;">
    <td><strong>param4</strong></td><td></td><td>Desired yaw angle.</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Target latitude. If zero, the vehicle will loiter at the current latitude.</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Target longitude. If zero, the vehicle will loiter at the current longitude.</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Target altitude. If zero, the vehicle will loiter at the current altitude.</td>
</tr>
</table>
[/site_Plane]




<h2>MAV_CMD_NAV_LOITER_TURNS</h2>

Loiter (circle) the specified location for a specified number of turns.

Supported by: Copter, Plane (not Rover). 

[site_Copter]
<h3>Copter</h3>

Loiter (circle) the specified location for a specified number of turns, and then proceed to the next command. If zero is specified for a latitude/longitude/altitude parameter then the current location value for the parameter will be used.

The radius of the circle is controlled by the <a href="http://copter.ardupilot.com/arducopter-parameters/#circle_radius_circle_radius" title="CIRCLE_RADIUS Parameter">CIRCLE_RADIUS</a> parameter (i.e. cannot be set as part of the command).

This is the command equivalent of the <a href="http://copter.ardupilot.com/wiki/flying-arducopter/flight-modes/circle-mode/">Circle flight mode</a>. 

#HW TODO / QUESTION : 1. Is it still true you have to control radius using the parameter (I ask, because the command does provide the needed information). 2. Is the direction controlled by CIRCLE_RATE


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>Turns</td><td>Number of turns (N x 360°)</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param3</strong></td><td></td><td>Radius around waypoint, in meters. Specify as a positive value to loiter clockwise, negative to move counter-clockwise.</td></tr>
<tr style="color: #C0C0C0;">
    <td><strong>param4</strong></td><td></td><td>Desired yaw angle.</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Target latitude. If zero, the vehicle will loiter at the current latitude.</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Target longitude. If zero, the vehicle will loiter at the current longitude.</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Target altitude. If zero, the vehicle will loiter at the current altitude.</td>
</tr>
</table>

<b>Mission planner screenshots</b>

[caption width="1024" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_LoiterTurns.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_LoiterTurns.png" width="1024" height="145" alt="Copter: Mission Planner Settings for LOITER_TURNS command" class /></a> Copter: Mission Planner Settings for LOITER_TURNS command[/caption]

[/site_Copter]

[site_Plane]
<h3>Plane</h3>

Loiter (circle) the specified location for a specified number of turns, and then proceed to the next command. If zero is specified for a latitude/longitude/altitude parameter then the current location value for the parameter will be used.

#HW TODO / QUESTION : 1. Just confirm this is NOT equivalent to Circle mode on plane: http://plane.ardupilot.com/wiki/flying/flight-modes/#circle - also that it uses the Radius value in command (unlike copter). What is MP label for radius?

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>Turns</td><td>Number of turns (N x 360°)</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr>
    <td><strong>param3</strong></td><td></td><td>Radius around waypoint, in meters. Specify as a positive value to loiter clockwise, negative to move counter-clockwise.</td></tr>
<tr style="color: #C0C0C0;">
    <td><strong>param4</strong></td><td></td><td>Desired yaw angle.</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Target latitude. If zero, the vehicle will loiter at the current latitude.</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Target longitude. If zero, the vehicle will loiter at the current longitude.</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Target altitude. If zero, the vehicle will loiter at the current altitude.</td>
</tr>
</table>

[/site_Plane]





<h2>MAV_CMD_NAV_LOITER_TIME</h2>

Loiter at the specified location for a set time (in seconds). 

Supported by: Copter, Plane (not Rover).

[site_Copter]
<h3>Copter</h3>

Fly to the specified location and then loiter there for the specified number of seconds — where loiter means "wait in place" (rather than "circle"). The timer starts when the waypoint is reached; when it expires the waypoint is complete. If zero is specified for a latitude/longitude/altitude parameter then the current location value for the parameter will be used.

This is the mission equivalent of the <a href="http://copter.ardupilot.com/wiki/flying-arducopter/flight-modes/loiter-mode/">Loiter flight mode</a>.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>Time (s)</td><td>Time to loiter at waypoint (seconds - decimal)</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param3</strong></td><td></td><td>Radius around waypoint, in meters. Specify as a positive value to loiter clockwise, negative to move counter-clockwise.</td></tr>
<tr style="color: #C0C0C0;">
    <td><strong>param4</strong></td><td></td><td>Desired yaw angle.</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Target latitude. If zero, the vehicle will loiter at the current latitude.</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Target longitude. If zero, the vehicle will loiter at the current longitude.</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Target altitude. If zero, the vehicle will loiter at the current altitude.</td>
</tr>
</table>

<b>Mission planner screenshots</b>

[caption width="1024" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_LoiterTime.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_LoiterTime.png" width="1024" height="146" alt="Copter: Mission Planner Settings for LOITER_TIME command" class /></a> Copter: Mission Planner Settings for LOITER_TIME command[/caption]


[/site_Copter]


[site_Plane]
<h3>Plane</h3>

Fly to the specified location and then loiter there for the specified number of seconds — where loiter means "circle the waypoint". The timer starts when the waypoint is reached; when it expires the waypoint is complete. If zero is specified for a latitude/longitude/altitude parameter then the current location value for the parameter will be used. You can also specify the radius and direction for the loiter.


#HW TODO - confirm radius field lable in MP 

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>Time (s)</td><td>Time to loiter at waypoint (seconds - decimal)</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr>
    <td><strong>param3</strong></td><td></td><td>Radius around waypoint, in meters. Specify as a positive value to loiter clockwise, negative to move counter-clockwise.</td></tr>
<tr style="color: #C0C0C0;">
    <td><strong>param4</strong></td><td></td><td>Desired yaw angle.</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Target latitude. If zero, the vehicle will loiter at the current latitude.</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Target longitude. If zero, the vehicle will loiter at the current longitude.</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Target altitude. If zero, the vehicle will loiter at the current altitude.</td>
</tr>
</table>
[/site_Plane]




<h2>MAV_CMD_NAV_RETURN_TO_LAUNCH</h2>

Return to the <em>home location</em> or the nearest <a href="common-rally-points" title="Rally Point">Rally Point</a>, if closer. The home location is where the vehicle was last armed (or when it first gets GPS lock after arming if the vehicle configuration allows this).

Supported by: Copter, Plane (not Rover). 

#HW TODO / Questions -  Check that copter still uses RTL_ALT parameter and doesn't try to send information about height in the package.
#HW TODO / Questions - Can we set a rally point in DroneKit https://github.com/diydrones/dronekit-python/issues/68

[site_Copter]
<h3>Copter</h3>

Return to the <em>home location</em> (or the nearest <a href="common-rally-points" title="Rally Point">Rally Point</a> if closer) and then land. The home location is where the vehicle was last armed (or when it first gets GPS lock after arming if the vehicle configuration allows this).

This is the mission equivalent of the <a href="http://copter.ardupilot.com/wiki/flying-arducopter/flight-modes/rtl-mode/">RTL flight mode</a>.  The vehicle will first climb to the <a href="http://copter.ardupilot.com/wiki/configuration/arducopter-parameters/#rtl_altitude_arducopterrtl_alt">RTL_ALT</a> parameter's specified altitude (default is 15m) before returning home.

This command takes no parameters and generally should be the last command in the mission.


#HW TODO / Question - Randy, is this correct? 


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td>param1</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>

<b>Mission planner screenshots</b>

[caption width="1025" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_RTL.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_RTL.png" width="1025" height="147" alt="Copter: Mission Planner Settings for RETURN_TO_LAUNCH command" class /></a> Copter: Mission Planner Settings for RETURN_TO_LAUNCH command[/caption]

[/site_Copter]

[site_Plane]
<h3>Plane</h3>

Return to the <em>home location</em> (or the nearest <a href="common-rally-points" title="Rally Point">Rally Point</a> if closer) and then "Loiter" (circle the point). The home location is where the vehicle was last armed (or when it first gets GPS lock after arming if the vehicle configuration allows this).

If the return is to a rally point, the plane will loiter at the position and altitude set in the rally point. If the return is to the home location, then the parameter <a href="http://plane.ardupilot.com/wiki/arduplane-parameters/#rtl_altitude_arduplanealt_hold_rtl">ALT_HOLD_RTL</a> is used for the loiter height (default 100m). The radius of the loiter is defined in the parameter <a href="http://plane.ardupilot.com/wiki/arduplane-parameters/#waypoint_loiter_radius_arduplanewp_loiter_rad">WP_LOITER_RAD</a>.

This command takes no parameters and generally should be the last command in the mission.



<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td>param1</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>

[/site_Plane]





<h2>MAV_CMD_NAV_LAND</h2>

Land the vehicle at the current or a specified location.

Supported by: Copter, Plane (not Rover). 

[site_Copter]
<h3>Copter</h3>

The copter will land at it's current location or at the lat/lon coordinates provided (if non-zero).  This is the mission equivalent of the <a href="http://copter.ardupilot.com/wiki/flying-arducopter/flight-modes/land-mode/">LAND flight mode</a>.

The motors will not stop on their own: you must exit AUTO mode to cut the engines.

#HW TODO / Questions - LAND in the "Creating a mission with waypoints doc" sates : "If you have Sonar, the craft will stop holding position at 3 meters and drop straight down." Is that true, and what does it mean?


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td>param1</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td><strong>param4</strong></td><td></td><td>Desired yaw angle.</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Target latitude. If zero, the Copter will land at the current latitude.</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Longitude</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param7</strong></td><td></td><td>Altitude</td>
</tr>
</table>

<b>Mission planner screenshots</b>

[caption width="1025" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_Land.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_Land.png" width="1025" height="147" alt="Copter: Mission Planner Settings for LAND command" class /></a> Copter: Mission Planner Settings for LAND command[/caption]


[/site_Copter]

[site_Plane]
<h3>Plane</h3>

The plane will land at it's current location or at the (non-zero) lat/lon coordinates provided.  Information on the parameters used to control the landing are provided in <a href="http://plane.ardupilot.com/wiki/flying/flight-modes/#land">LAND flight mode</a>.


#HW TODO - Please confirm Plane does fly to lat/lon as indicated and that the link above is correct description. Should we integrate that description here?. 

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td>param1</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td><strong>param4</strong></td><td></td><td>Desired yaw angle.</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td></td><td>Latitude</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td></td><td>Longitude</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param7</strong></td><td></td><td>Altitude</td>
</tr>
</table>

[/site_Plane]






<h2>MAV_CMD_NAV_CONTINUE_AND_CHANGE_ALT</h2>

Continue on the current course and climb/descend to specified altitude.  Move to the next command when the desired altitude is reached.

Supported by: Plane (not Copter, Rover). 


[site_Plane]
<h3>Plane</h3>

Continue on the current course and climb/descend to specified altitude.  Move to the next command when the desired altitude is reached.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td>param1</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr>
    <td>param7</td><td></td><td>Target altitude</td>
</tr>
</table>

[/site_Plane]





<h2>MAV_CMD_NAV_SPLINE_WAYPOINT</h2>

Navigate to the target location using a spline path.

Supported by: Copter (not Plane or Rover). 

[site_Copter]
<h3>Copter</h3>

Fly to the target location using a <a href="http://en.wikipedia.org/wiki/Spline_%28mathematics%29" target="_blank">Spline path</a>, then wait (hover) for specified time before proceeding to the next command.

The Spline commands take all the same arguments are regular waypoints (lat, lon, alt, delay) but when executed the vehicle will fly smooth paths (both vertically and horizontally) instead of straight lines.  Spline waypoints can be mixed with regular straight line waypoints as shown in the screenshot below.

[note]Spline waypoints were introduced in AC3.2. As of AC3.2-rc4, there is a slight twitch as the vehicle passes through each spline waypoint.  This is a technical issue that we hope to resolve in an upcoming release.[/note]


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td>param1</td><td>Delay</td><td>Hold time at target, in decimal seconds.</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr>
    <td>param5</td><td>Lat</td><td>Latitude/X of goal</td>
</tr>
<tr>
    <td>param6</td><td>Long</td><td>Longitude/Y of goal</td>
</tr>
<tr>
    <td>param7</td><td>Alt</td><td>Altitude/Z of goal</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1024" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_SplineWaypoint.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_SplineWaypoint.png" width="1024" height="825" alt="Copter: Mission Planner Settings for SPLINE_WAYPOINT command" class /></a> Copter: Mission Planner Settings for SPLINE_WAYPOINT command[/caption]

The Mission Planner screenshot shows the path the vehicle will take.
<ul>
	<li>The 1 second delay at the end of Waypoint #1 causes the vehicle to stop so Spline command #2 begins by taking a sharp 90degree turn</li>
	<li>The direction of travel as the vehicle passes through Spline Waypoint #3 is parallel to an imaginary line drawn between waypoints #2 and #4</li>
	<li>Waypoint #5 is a straight line so the vehicle lines itself up to point towards waypoint #5 even before reaching waypoint #4.</li>
</ul>

[/site_Copter]





<h2>MAV_CMD_NAV_GUIDED_ENABLE</h2>

Enable <code>GUIDED</code> mode to hand over control to an external controller. 

Supported by: Copter (not Plane or Rover). 

See also <a href="#mav_cmd_do_guided_limits">MAV_CMD_DO_GUIDED_LIMITS</a> for information on how to apply time, altitude and distance limits on the external control.


[site_Copter]
<h3>Copter</h3>

Enable <code>GUIDED</code> mode to hand over control to an external controller. See <a href="http://copter.ardupilot.com/wiki/flying-arducopter/flight-modes/ac2_guidedmode/">Guided Mode</a> for more information. 

#HW TODO: Questions - Randy - How is this command actually "used" ? Ie when you've turned on guided mode, does this mean you can then just send up individual mission commands ? ie from a DroneKit point of view, how do you use this.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td></td><td>A value of > 0.5 enables GUIDED mode. Any value <= 0.5f turns it off.</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>
[/site_Copter]




<h2>MAV_CMD_DO_JUMP</h2>

Supported by: Copter, Plane, Rover.

Jump to the specified command in the mission list. The jump command can be repeated either a specified number of times before continuing the mission, or it can be repeated indefinitely.

[tip]Despite the name, this command is really a "NAV_" command rather than a "DO_" command. Conditional commands like CONDITION_DELAY don't affect DO_JUMP (it will always perform the jump as soon as it reaches the command).[/tip]

[note]
<ul>
	<li>This command can be called a maximum number of 15 times in a mission, after which new DO_JUMP commands are ignored. The maximum number changed from 3 to 15 in AC 3.3.</li>
	<li>The command was introduced in/works reliably from AC3.2</li>
</ul>
[/note]

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>WP#</td><td>The command index/sequence number of the command to jump to.</td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>Repeat</td><td>Number of times that the DO_JUMP command will execute before moving to the next sequential command. If the value is zero the next command will execute immediately. A value of -1 will cause the command to repeat indefinitely.</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1024" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoJump.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoJump.png" width="1024" height="194" alt="Copter: Mission Planner Settings for DO_JUMP command" class /></a> Copter: Mission Planner Settings for DO_JUMP command[/caption]

In the example above the vehicle would fly back-and-forth between waypoints #1 and #2 a total of 3 times before flying on to waypoint #4.






<h1>Conditional commands</h1>

Conditional commands control the execution of _DO_ commands. For example, a conditional command can prevent DO commands executing based on a time delay, until the vehicle is at a certain altitude, or at a specified distance from the next target position.

A conditional command may not complete before reaching the next waypoint. In this case, any unexecuted _DO_ commands associated with the last waypoint will be skipped.


<h2>MAV_CMD_CONDITION_DELAY</h2>

After reaching a waypoint, delay the execution of the next conditional "_DO_" command for the specified number of seconds (e.g. <a href="#mav_cmd_do_set_roi">MAV_CMD_DO_SET_ROI</a>). 

Supported by: Copter, Plane, Rover. 

[note]This command does not stop the vehicle. If the vehicle reaches the next waypoint before the delay timer completes, the delayed "_DO_" commands will never trigger.[/note]


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>Time (sec)</td><td>Delay in seconds (decimal).</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>

<b>Mission planner screenshots</b>

[caption width="1024" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_ConditionDelay.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_ConditionDelay.png" width="1024" height="216" alt="Copter: Mission Planner Settings for CONDITION_DELAY command" class /></a> Copter: Mission Planner Settings for CONDITION_DELAY command[/caption]

In the example above, Command #4 (<code>DO_SET_ROI</code>) is delayed so that it starts 5 seconds after the vehicle has passed Waypoint #2. 




<h2>MAV_CMD_CONDITION_CHANGE_ALT</h2>

Ascend/descend at a specified rate to a given altitude (will override the value used in the following Waypoint). Any  "_DO_" commands associated with the waypoint will be delayed until the desired altitude is reached. 

Supported by: Copter, Plane (not Rover). 

#HW TODO / Questions: Is this the same for plane and copter (confirm). What is the MP value for param 1 (ascent/descent rate)

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>???</td><td>Descent / Ascend rate (m/s).</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Target altitude</td>
</tr>
</table>




<h2>MAV_CMD_CONDITION_DISTANCE</h2>

Delays the start of the next "<code>_DO_</code>" command until the vehicle is within the specified number of meters of the next waypoint. 

Supported by: Copter, Plane, Rover.

[note]This command does not stop the vehicle: it only affects DO commmands.[/note]

#HW TODO / Questions - confirm this works same way for plane/rover as for Copter (used as documentation base)

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>???</td><td>Distance from the next waypoint before DO commands are executed (meters).</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td>Dist (m)</td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td>Alt</td><td>Empty</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1024" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_ConditionDistance.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_ConditionDistance.png" width="1024" height="212" alt="Copter: Mission Planner Settings for CONDITION_DISTANCE command" class /></a> Copter: Mission Planner Settings for CONDITION_DISTANCE command[/caption]

In the example above, Command #4 (<code>DO_SET_ROI</code>) is delayed so that it only starts once the vehicle is within 50m of waypoint #5. 


<h2>MAV_CMD_CONDITION_YAW</h2>

Point (yaw) the nose of the vehicle towards a specified heading.

Supported by: Copter (not Plane or Rover). 

[site_Copter]
<h3>Copter</h3>

Point (yaw) the nose of the vehicle towards a specified heading.

The parameters allow you to specify whether the target direction is absolute or relative to the current direction. If the direction is relative you can also (separately) specify whether the value is added or subtracted from the current heading (note that the vehicle will always turn in direction that most quickly gets it to the new target heading regardless of the <code>param3</code> value).

We don't support controlling the yaw rate, so the <code>param2</code> value (Sec) is ignored.


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>Deg</td><td>If <code>param4=0</code> (absolute): Target heading in degrees  [0-360] (0 is North).
If <code>param4=1</code> (relative): The change in heading (in degrees).</td>
</tr>
<tr style="color: #C0C0C0;">
  <td><strong>param2</strong></td><td>Sec</td><td>Speed during yaw change:[deg per second].</td>
</tr>
<tr>
    <td><strong>param3</strong></td><td>Dir</td><td>If <code>param4=1</code> (relative) only: [-1 = CCW, +1 = CW]. This denotes whether the flight controller should add (CW) or subtract (CCW) the degrees (<code>param1</code>) from the current heading to calculate the target heading. </td></tr>
<tr>
    <td><strong>param4</strong></td><td>rel/abs</td><td>Specify if <code>param1</code> ("Deg" field) is an absolute direction (0) or a direction relative to the current heading (1).</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1024" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_ConditionYaw.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_ConditionYaw.png" width="1024" height="170" alt="Copter: Mission Planner Settings for CONDITION_YAW command" class /></a> Copter: Mission Planner Settings for CONDITION_YAW command[/caption]
[/site_Copter]





<h1>DO commands</h1>

The "DO" or "Now" commands are executed once to perform some action. All the DO commands associated with a waypoint are executed immediately.


<h2>MAV_CMD_DO_SET_MODE</h2>

Set system mode (as defined by ENUM MAV_MODE).

Supported by: Copter, Plane, Rover.

#HW TODO / Question - the common-mission planning docs says "Not Implemented". Confirm if is implemented, and for which platforms. (note, handler indicates only param1 supported, not param2
#HW TODO / Question - if supported, what is best link to ENUM MAV_MODE in param1 below? Github link best, but if not, how about https://pixhawk.ethz.ch/mavlink/
#HW TODO / Question - if supported, what is MP field?

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>???</td><td>Mode, as defined by ENUM MAV_MODE</td>
</tr>
<tr style="color: #C0C0C0;">
  <td><strong>param2</strong></td><td></td><td>Custom mode - this is system specific, please refer to the individual autopilot specifications for details.</td>
<tr style="color: #C0C0C0;">
<tr>
    <td>param3</td><td></td><td>Empty</td></tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>





<h2>MAV_CMD_DO_CHANGE_SPEED</h2>

Change the target horizontal speed and/or throttle of the vehicle. The changes will be used until they are explicitly changed again or the device is rebooted.

Supported by: Copter, Plane, Rover.


[site_Copter]
<h3>Copter</h3>

Sets the desired maximum speed in meters/second (only). Both the speed-type and throttle settings are ignored.

[note]In AC3.1.5 (and earlier) versions the speed change will only take effect after the current navigation command (i.e. waypoint command) completes. From AC3.2 onwards the vehicle speed will change immediately.[/note]

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td><strong>param1</strong></td><td></td><td>Speed type (0=Airspeed, 1=Ground Speed). </td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>Speed</td><td>Target speed (m/s). <!-- A value of -1 indicates no change. --> </td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Throttle as a percentage (0-100%). A value of -1 indicates no change. </td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1020" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoChangeSpeed.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoChangeSpeed.png" width="1020" height="143" alt="Copter: Mission Planner Settings for DO_CHANGE_SPEED command" class /></a> Copter: Mission Planner Settings for DO_CHANGE_SPEED command[/caption]

[note]From AC3.2 the speed parameter will be in the SECOND COLUMN, not the first column as in previous releases and shown above (this is to match the official MAVLINK protocol)[/note]

[/site_Copter]

[site_Plane]
<h3>Plane</h3>

Change the target horizontal speed (airspeed or groundspeed) and/or the vehicle's throttle.

#HW TODO: MP text for throttle
#HW TODO: Confirm the note below for Plane. Can we have a version number that is equivalent?

[note]In AC3.1.5 (and earlier) versions the speed change will only take effect after the current navigation command (i.e. waypoint command) completes. From AC3.2 onwards the vehicle speed will change immediately.[/note]

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Speed type (0=Airspeed, 1=Ground Speed).</td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>Speed</td><td>Target speed (m/s). A value of -1 indicates no change.</td>
</tr>
<tr>
    <td><strong>param3</strong></td><td>????</td><td>Throttle as a percentage (0-100%). A value of -1 indicates no change. </td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


[/site_Plane]

[site_Rover]
<h3>Rover</h3>

Change the target horizontal speed and/or the vehicle's throttle.

#HW TODO: GRANT - Possible bug in DO_CHANGE_SPEED for Rover - https://github.com/diydrones/ardupilot/blob/master/APMrover2/commands_logic.pde#L279 . The docs and plane indicate that param1 indicates speed-type (0 for airspeed, 1 for ground speed). This code checks on the value speed-type and only changes it if the value is zero - airspeed. IMO the value should do what copter does, and just ignore param1.  If it does check, it should set speed based on param1=1 (groundspeed). If this is a bug, just document "0" as groundspeed for this case, or would you change it in the code?
#HW TODO: Confirm the note below for Plane

[note]In AC3.1.5 (and earlier) versions the speed change will only take effect after the current navigation command (i.e. waypoint command) completes. From AC3.2 onwards the vehicle speed will change immediately.[/note]


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Speed type (0=Airspeed, 1=Ground Speed). </td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>Speed</td><td>Target speed (m/s). A value of -1 indicates no change.</td>
</tr>
<tr>
    <td><strong>param3</strong></td><td>????</td><td>Throttle as a percentage (0-100%). A value of -1 indicates no change. </td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


[/site_Rover]






<h2>MAV_CMD_DO_SET_HOME</h2>

Sets the home location either as the current location or at the location specified in the command.

Supported by: Copter, Plane, Rover.

[note]<ul>
	<li>For Plane and Rover, if a good GPS fix cannot be obtained the location specified in the command is used.</li>
	<li>For Copter, the command will also try to use the current position if all the location parameters are set to 0. The location information in the command is only used if it is close to the EKF origin.</li>
</ul>[/note]

[warning]This command should not be used in AC3.2 <a href="https://github.com/diydrones/ardupilot/issues/1677" target="_blank">due to this issue</a>.  Instead <a href="wiki/common-rally-points/">Rally Points</a> can be used to control the position used for RETURN_TO_LAUNCH ("Home" is also used internally as the "origin" for all navigation calculations). The command is fixed in AC3.3.[/warning]


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>Current</td><td>Set home location:
1=Set home as current location. 
2=Use location specified in message parameters.</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Target home latitude (if <code>param1=2</code>)</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Target home longitude (if <code>param1=2</code>)</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Target home altitude (if <code>param1=2</code>)</td>
</tr>
</table>

<b>Mission planner screenshots</b>

[caption width="1020" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoSetHome.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoSetHome.png" width="1020" height="143" alt="Copter: Mission Planner Settings for DO_SET_HOME command" class /></a> Copter: Mission Planner Settings for DO_SET_HOME command[/caption]





<h2>MAV_CMD_DO_SET_PARAMETER</h2>
NOT IN ANY of the vehicle switches

        cmd.p1 = packet.param1;                         // parameter number
        cmd.content.location.alt = packet.param2;       // parameter value
        break;

               <entry value="180" name="MAV_CMD_DO_SET_PARAMETER">
                    <description>Set a system parameter.  Caution!  Use of this command requires knowledge of the numeric enumeration value of the parameter.</description>
                    <param index="1">Parameter number</param>
                    <param index="2">Parameter value</param>
                    <param index="3">Empty</param>
                    <param index="4">Empty</param>
                    <param index="5">Empty</param>
                    <param index="6">Empty</param>
                    <param index="7">Empty</param>
               </entry>

#HW TODO - check if is supported - not in handler. Update if it is, otherwise delete.
ANSWER
This is implemented from the GCSs as an immediate command, it shouldn't be part of a mission. These command needs to be squeezed into a command-long strcture.
- This is "advanced stuff" not for most users and not as part of missions
- need to list these commands separately. TODO. Go through "all the supported immediate commands appear in the vehicle's GCS_MAVLink.pde file"
- Remember to note in DroneKit that you can't use these ones in missions.





<h2>MAV_CMD_DO_SET_RELAY</h2>

Set a <a href="common-relay">Relay</a> pin's voltage high (on) or low (off). 

Supported by: Copter, Plane, Rover.


#HW TODO / Question - is "toggling supported" using -1 in te setting? Some docs indicate this, but no information. "Toggling the Relay will turn an off relay on and vice versa"
#HW TODO / Question - Update image below to check if the mislabelling was fixed.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Relay number.</td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>off</td><td>Set relay state:
1: Set relay high/on (3.3V on Pixhawk, 5V on APM). 
0: Set relay low/off (0v)</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1020" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoSetRelay.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoSetRelay.png" width="1020" height="135" alt="Copter: Mission Planner Settings for DO_SET_RELAY command" class /></a> Copter: Mission Planner Settings for DO_SET_RELAY command[/caption]

At time image above was produced, the columns are mislabelled in the Mission Planner as shown above. The First column is Relay number, the Second column is On/Off.





<h2>MAV_CMD_DO_REPEAT_RELAY</h2>

Toggle the <a href="common-relay">Relay</a> pin's voltage/state a specified number of times with a given period. Toggling the Relay will turn an off relay on and vice versa

Supported by: Copter, Plane, Rover.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Relay number.</td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>Repeat #</td><td>Cycle count - the number of times the relay should be toggled</td>
</tr>
<tr>
    <td><strong>param3</strong></td><td>Delay(s)</td><td>Cycle time (seconds, decimal) - time between each toggle.</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1022" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoRepeatRelay.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoRepeatRelay.png" width="1022" height="137" alt="Copter: Mission Planner Settings for DO_RELAY_REPEAT command" class /></a> Copter: Mission Planner Settings for DO_RELAY_REPEAT command[/caption]

In the example above, assuming the relay was off to begin with, it would be set high and then after 3 seconds it would be toggled low again.




<h2>MAV_CMD_DO_SET_SERVO</h2>

Set a given <a href="common-servo">servo pin</a> output to a specific PWM value. 

Supported by: Copter, Plane, Rover.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>Ser No</td><td>Servo number - target servo output pin/channel number.</td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>PWM</td><td>PWM value to output, in microseconds (typically 1000 to 2000).</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1022" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoSetServo.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoSetServo.png" width="1022" height="136" alt="Copter: Mission Planner Settings for DO_SET_SERVO command" class /></a> Copter: Mission Planner Settings for DO_SET_SERVO command[/caption]

In the example above, the servo attached to output channel 8 would be moved to PWM 1700 (servos generally accept PWM values between 1000 and 2000).






<h2>MAV_CMD_DO_REPEAT_SERVO</h2>

Cycle a <a href="common-servo">servo</a> PWM output pin between its mid-position value and a specified PWM value, for a given number of cycles and with a set period.

The mid-position value is specified in the <code>RC8_TRIM</code> parameter (default value is 1500).

Supported by: Copter, Plane, Rover.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>Ser No</td><td>Servo number - target servo output pin/channel.</td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>PWM</td><td>PWM value to output, in microseconds (typically 1000 to 2000).</td>
</tr>
<tr>
    <td><strong>param3</strong></td><td>Repeat #</td><td>Cycle count - number of times to move the servo to the specified PWM value</td></tr>
</tr>
<tr>
    <td><strong>param4</strong></td><td>Delay (s)</td><td>Cycle time (seconds) - the delay in seconds between each servo movement.</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1022" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoRepeatServo.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoRepeatServo.png" width="1022" height="135" alt="Copter: Mission Planner Settings for DO_REPEAT_SERVO command" class /></a> Copter: Mission Planner Settings for DO_REPEAT_SERVO command[/caption]

In the example above, the servo attached to output channel 8 would be moved to PWM 1700, then after 4 second, back to mid, after another 4 seconds it would be moved to 1700 again, then finally after 4 more seconds it would be moved back to mid.





<h2>MAV_CMD_DO_LAND_START</h2>

Mission command to perform a landing. 

Supported by: Plane (not Copter, Rover). 

[site_Plane]
<h3>Plane</h3>

Mission command to perform a landing. 

This is used as a marker in a mission to tell the autopilot where a sequence of mission items that represents a landing starts. It may also be sent via a COMMAND_LONG to trigger a landing, in which case the nearest (geographically) landing sequence in the mission will be used. 

The latitude/longitude are not used.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td>param1</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param5</strong></td><td></td><td>Latitude used to help find the closest landing sequence, or zero if not needed.</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param6</strong></td><td></td><td>Longitude used to help find the closest landing sequence, or zero if not needed.</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>

[/site_Plane]







<h2>MAV_CMD_DO_SET_ROI</h2>


Sets the region of interest (ROI) for a sensor set or the vehicle itself. This can then be used by the vehicles control system to control the vehicle attitude and the attitude of various sensors such as cameras.

Supported by: Copter, Plane, Rover.

#HW TODO / Questions - docs indicate that altitude is in frame of metres above home. However, I assume that this is actually based on Frame, like all other parameters in system? Asked Grant.
#HW TODO / Questions - if only difference is what gets pointed to ROI, merge the three sections below.

[site_Copter]
<h3>Copter</h3>

Points the <a href="common-cameras-and-gimbals">camera gimbal</a> at the "region of interest", and possibly also rotates the nose of the vehicle if the mount type does not support a yaw feature.

After setting the ROI, the camera/vehicle will continue to follow it until the end of the mission, unless it is changed or cleared by setting another ROI. Clearing the ROI is achieved by setting a later DO_SET_ROI command with all zero for <code>param5</code>-<code>param7</code> (Lat, Lon and Alt).

The above behaviour was implemented in AC3.2. In AC3.1.5 the camera/vehicle only tracks the ROI in the waypoint it is declared. A new ROI therefore needs to be set at every waypoint where tracking is required.


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td><strong>param1</strong></td><td></td><td>Region of interest mode. (see MAV_ROI enum) // 0 = no roi, 1 = next waypoint, 2 = waypoint number, 3 = fixed location, 4 = given target (not supported)</td>
</tr>
<tr style="color: #C0C0C0;">
  <td><strong>param2</strong></td><td></td><td>MISSION index/ target ID. (see MAV_ROI enum)</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param3</strong></td><td></td><td>ROI index (allows a vehicle to manage multiple ROI's)</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Latitude (x) of the fixed ROI</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Longitude (y) of the fixed ROI</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Altitude of the fixed ROI <!-- original docs say: the target altitude above home in meters.--> </td>
</tr>
</table>


<b>Mission planner screenshots/video</b>

[caption width="1024" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoSetRoi.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoSetRoi.png" width="1024" height="634" alt="Copter: Mission Planner Settings for DO_SET_ROI command" class /></a> Copter: Mission Planner Settings for DO_SET_ROI command[/caption]

In the example above the nose and camera would be pointed at the red marker.

If using AC3.1.5: The nose would point at the marker for only the period that the vehicle is flying from Waypoint #1 to Waypoint #3.  If you wanted the nose/camera to continue to point at the red marker as it flies from #3 to #4, a second DO_SET_ROI command would need to be entered after Waypoint #3.

If using AC3.2: The nose would continue to point at the red marker until the end of the mission.  To "clear" the do-set-roi and cause the vehicle to return to it's default behaviour (i.e. pointing at the next waypoint) a second DO_SET_ROI command should be placed later in the mission with all zero for Lat, Lon and Alt.


https://www.youtube.com/watch?v=W8NCFHrEjfU

[/site_Copter]

[site_Plane]
<h3>Plane</h3>

Points the <a href="common-cameras-and-gimbals">camera gimbal</a> at the "region of interest".

After setting the ROI, the camera will continue to follow it until the end of the mission, unless it is changed or cleared by setting another ROI. Clearing the ROI is achieved by setting a later DO_SET_ROI command with all zero for <code>param5</code>-<code>param7</code> (Lat, Lon and Alt).

#HW TODO / QUESTION - confirm behaviour is as above for plane and rover. The code looks like this only works with a camera mount, and it doesn't try to align using the vehicle itself. Does it continue to point at the target across waypoints as for copter? If so, then probably can just have one section for this. 

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td><strong>param1</strong></td><td></td><td>Region of interest mode. (see MAV_ROI enum) // 0 = no roi, 1 = next waypoint, 2 = waypoint number, 3 = fixed location, 4 = given target (not supported)</td>
</tr>
<tr style="color: #C0C0C0;">
  <td><strong>param2</strong></td><td></td><td>MISSION index/ target ID. (see MAV_ROI enum)</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param3</strong></td><td></td><td>ROI index (allows a vehicle to manage multiple ROI's)</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Latitude (x) of the fixed ROI</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Longitude (y) of the fixed ROI</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Altitude of the fixed ROI</td>
</tr>
</table>
[/site_Plane]

[site_Rover]
<h3>Rover</h3>

Points the <a href="common-cameras-and-gimbals">camera gimbal</a> at the "region of interest".

After setting the ROI, the camera will continue to follow it until the end of the mission, unless it is changed or cleared by setting another ROI. Clearing the ROI is achieved by setting a later DO_SET_ROI command with all zero for <code>param5</code>-<code>param7</code> (Lat, Lon and Alt).


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr style="color: #C0C0C0;">
<td><strong>param1</strong></td><td></td><td>Region of interest mode. (see MAV_ROI enum) // 0 = no roi, 1 = next waypoint, 2 = waypoint number, 3 = fixed location, 4 = given target (not supported)</td>
</tr>
<tr style="color: #C0C0C0;">
  <td><strong>param2</strong></td><td></td><td>MISSION index/ target ID. (see MAV_ROI enum)</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param3</strong></td><td></td><td>ROI index (allows a vehicle to manage multiple ROI's)</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td>Lat</td><td>Latitude (x) of the fixed ROI</td>
</tr>
<tr>
    <td><strong>param6</strong></td><td>Lon</td><td>Longitude (y) of the fixed ROI</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td>Alt</td><td>Altitude of the fixed ROI</td>
</tr>
</table>
[/site_Rover]





<h2>MAV_CMD_DO_DIGICAM_CONFIGURE</h2>

Configure an on-board camera controller system.

The parameters are forwarded to an on-board camera controller system (like the <a href="common-camera-control-board" title="common-3DR Camera Control Board">3DR Camera Control Board</a>), if one is present.

Supported by: Copter, Plane, Rover.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Set camera mode:
1: ProgramAuto
2: Aperture Priority
3: Shutter Priority
4: Manual
5: IntelligentAuto
6: SuperiorAuto</td>
</tr>
<tr>
  <td><strong><strong>param2</strong></strong></td><td>???</td><td>Shutter speed (seconds divisor). So if the speed is 1/60 seconds, the value entered would be 60. Slowest shutter trigger supported is 1 second.</td>
</tr>
<tr>
    <td><strong>param3</strong></td><td></td><td>Aperture: F stop number</td></tr>
</tr>
<tr>
    <td><strong>param4</strong></td><td></td><td>ISO number e.g. 80, 100, 200, etc.</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param5</strong></td><td></td><td>Exposure type enumerator</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param6</strong></td><td></td><td>Command Identity</td>
</tr>
<tr>
    <td><strong>param7</strong></td><td></td><td>Main engine cut-off time before camera trigger in seconds/10 (0 means no cut-off).</td>
</tr>
</table>






<h2>MAV_CMD_DO_DIGICAM_CONTROL</h2>

AC3.3: Control an on-board camera controller system (like the <a href="common-camera-control-board" title="common-3DR Camera Control Board">3DR Camera Control Board</a>). 

Currently/BEFORE AC3.3: Trigger the <a href="common-camera-shutter-with-servo/">camera shutter</a> once.  This command takes no additional arguments.

Supported by: Copter, Plane, Rover.


<b>Command parameters</b>

The parameters below reflect the supported fields in AC3.3. In general if a command field is sent as 0 it is ignored. All parameters are ignored prior to AC3.3.

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Session control (on/off or show/hide lens):
0: Turn off the camera / hide the lens
1: Turn on the camera /Show the lens</td>
</tr>
<tr style="color: #C0C0C0;">
  <td><strong>param2</strong></td><td>????</td><td>Zoom's absolute position. 2x, 3x, 10x, etc.</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param3</strong></td><td></td><td>Zooming step value to offset zoom from the current position</td></tr>
</tr>
<tr>
    <td><strong>param4</strong></td><td></td><td>Focus Locking, Unlocking or Re-locking:
  0: Ignore
  1: Unlock
  2: Lock
</td>
</tr>
<tr>
    <td><strong>param5</strong></td><td></td><td>Shooting Command. Any non-zero value triggers the camera.</td>
</tr>
<tr style="color: #C0C0C0;">
    <td><strong>param6</strong></td><td></td><td>Command Identity</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1024" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoDigicamControl.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoDigicamControl.png" width="1024" height="135" alt="Copter: Mission Planner Settings for DO_DIGICAM_CONTROL command." class /></a> Copter: Mission Planner Settings for DO_DIGICAM_CONTROL command.[/caption]




<h2>MAV_CMD_DO_MOUNT_CONTROL</h2>

Mission command to control a camera or antenna mount.

Supported by: Copter (not Plane or Rover).

[site_Copter]
<h3>Copter</h3>

This command allows you to specify a roll, pitch and yaw angle which will be sent to the <a href="common-cameras-and-gimbals">camera gimbal</a>. This can be used to point the camera in specific directions at various times in the mission.

[note]Supported from AC3.3[/note] 

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Pitch, in degrees. <!-- depending on mount mode.--></td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>????</td><td>Roll, in degrees. <!--or longitude in degrees depending on mount mode.--></td>
</tr>
<tr>
    <td><strong>param3</strong></td><td></td><td>Yaw, in degrees. <!-- or altitude (in meters) depending on mount mode. --></td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>reserved</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>reserved</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>reserved</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>MAV_MOUNT_MODE enum value. </td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1021" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoMountControl.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoMountControl.png" width="1021" height="137" alt="Copter: Mission Planner Settings for DO_MOUNT_CONTROL command" class /></a> Copter: Mission Planner Settings for DO_MOUNT_CONTROL command[/caption]
[/site_Copter]





<h2>MAV_CMD_DO_SET_CAM_TRIGG_DIST</h2>

Trigger the <a href="common-camera-shutter-with-servo">camera shutter</a> at regular distance intervals. This command is useful in <a href="common-camera-control-and-auto-missions-in-mission-planner" title="common-Camera Control and Auto Missions in Mission Planner">camera survey missions</a>.

Supported by: Copter, Plane, Rover.


[note] In AC3.1.5 (and earlier) versions this command cannot be shut-off. The camera will continue to be triggered repeatedly even after the mission has been ended. In AC3.2 (and higher) providing a distance of zero will stop the camera shutter from being triggered.[/note]

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>Dist (m)</td><td>Camera trigger distance interval (meters). Zero to turn off distance triggering. </td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>


<b>Mission planner screenshots</b>

[caption width="1021" align="alignnone"]<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoSetCamTriggDist.png"><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2014/03/MissionList_DoSetCamTriggDist.png" width="1021" height="145" alt="Copter: Mission Planner Settings for DO_SET_CAM_TRIGG_DIST command" class /></a> Copter: Mission Planner Settings for DO_SET_CAM_TRIGG_DIST command[/caption]

The above configuration above will cause the camera shutter to trigger after every 5m that the vehicle travels.



<h2>MAV_CMD_DO_FENCE_ENABLE</h2>

Mission command to enable the GeoFence.

Supported by: Plane (not Copter or Rover).

[site_Plane]
<h3>Plane</h3>

Mission command to enable the <a href="http://plane.ardupilot.com/wiki/flying/flight-modes/geofencing-3/">GeoFence</a>.


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Set GeoFence enable state (0=disable, 1=enable).</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>

[/site_Plane]





<h2>MAV_CMD_DO_PARACHUTE</h2>

Mission command to trigger a parachute (if enabled).

Supported by: Copter (not Plane or Rover).

[site_Copter]
<h3>Copter</h3>

Mission command to trigger a parachute.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Parachute action (0=disable, 1=enable, 2=release).</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>

[/site_Copter]



<h2>MAV_CMD_DO_INVERTED_FLIGHT</h2>

Change to/from inverted flight.

Supported by: Plane (not Copter or Rover).

[site_Plane]
<h3>Plane</h3>

Change between normal and <a href="http://plane.ardupilot.com/wiki/flying/inverted-flight/">inverted flight</a>.

<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Set flight type:
0: normal
1: inverted</td>
</tr>
<tr style="color: #C0C0C0;">
  <td>param2</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>

[/site_Plane]




<h2>MAV_CMD_DO_GRIPPER</h2>

Mission command to operate EPM gripper.

Supported by: Copter (not Plane or Rover).

[site_Copter]
<h3>Copter</h3>

Mission command to operate EPM gripper.

[note]This is supported from AC3.3. The <a href="http://copter.ardupilot.com/wiki/common-optional-hardware/common-electro-permanent-magnet-gripper/">instructions for integrating Copter with gripper</a> are out of date and use DO_SET_SERVO to activate the gripper (April 2015).[/note]


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Gripper number (from 1 to maximum number of grippers on the vehicle).</td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>????</td><td>Gripper action:
0:Release
1:Grab <!-- See GRIPPER_ACTION enum --></td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param3</td><td></td><td>Empty</td></tr>
</tr>
<tr style="color: #C0C0C0;">
    <td>param4</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>
[/site_Copter]




<h2>MAV_CMD_DO_GUIDED_LIMITS</h2>

Set limits for external control.

Supported by: Copter (not Plane or Rover).

[site_Copter]
<h3>Copter</h3>

This command sets time, altitude, and distance limits for external control (GUIDED mode). When these limits are exceeded, control will return from GUIDED mode to the mission. Setting any of these parameters to zero will remove the associated limit.


<b>Command parameters</b>

<table>
<tr><th>Command Field</th><th>Mission Planner Field</th><th>Description</th>
</tr>
<tr>
<td><strong>param1</strong></td><td>????</td><td>Maximum time (in seconds) that the external controller is allowed to control vehicle. Use 0 to remove time limits (unlimited time allowed).</td>
</tr>
<tr>
  <td><strong>param2</strong></td><td>????</td><td>Minimum allowed absolute altitude (in meters, AMSL), below which the command will be aborted and the mission will continue. Use 0 to indicate that there is no minimum altitude limit.</td>
</tr>
<tr>
    <td><strong>param3</strong></td><td></td><td>Maximum allowed absolute altitude (in meters, AMSL), above which the command will be aborted and the mission will continue. Use 0 to indicate that there is no maximum altitude limit.</td></tr>
</tr>
<tr>
    <td><strong>param4</strong></td><td></td><td>Horizontal move limit (in meters, AMSL). If vehicle moves more than this distance from its location at the moment the command was executed, the command will be aborted and the mission will continue. Use 0 to indicate that there is no horizontal limit.</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param5</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param6</td><td></td><td>Empty</td>
</tr>
<tr style="color: #C0C0C0;">
    <td>param7</td><td></td><td>Empty</td>
</tr>
</table>
[/site_Copter]