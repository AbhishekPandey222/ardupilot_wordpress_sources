<!-- 
START METADATA - Only title should be translated 
slug: common-px4-firmware-installation-using-mission-planner 
title: common-PX4 Firmware Installation Using Mission Planner 
id: 338 
menu_order: 0 
post_parent_id: 0 
post_parent_stub:  
post_parent_title:  
END METADATA 
-->
<p style="text-align: center"><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/MPFirmwareLoadScreen.png"><img class="alignnone size-full wp-image-5718" alt="MPFirmwareLoadScreen" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/MPFirmwareLoadScreen.png" width="1024" height="591" /></a></p>
<a href="#Flight_Data">Link to Mission Planner Flight Data Screen</a>


<h3>Install the Firmware to your PX4 boards Using Mission Planner</h3>




<ol>
	<li><span style="color: #0000ff"><strong>Install Mission Planner from the Direct Link below in order to insure the PX4 compatible Windows USB Driver is installed.</strong></span>
<ol>
	<li>You only need to perform this Direct Windows Mission Planner install one time to ensure PX4 windows USB driver compatibility.</li>
	<li>Right click on this link:<strong> <a href="http://firmware.diydrones.com/Tools/MissionPlanner/">Mission Planner Install</a></strong> and select the "Open in New Window" item in the pop up menu.</li>
	<li>Move and size the new window so you can see it and this window simultaneously.</li>
	<li>In the Mission Planner box, click on the most rectent Mission Planner version Download item.</li>
	<li>In the "Mission Planner Download" Window click on the "Download" button.</li>
	<li>When it loads the "MissionPlanner" Installer tab at the bottom of the screen, click on it.</li>
	<li>Agree to all permissions, cautions and defaults until the installation is complete and then close the window you created.</li>
</ol>
</li>
	<li><span style="color: #0000ff"><strong>Upload the PX4 Firmware to the PX4FMU board.</strong></span>
<ol>
	<li>Start Mission Planner and Select the "Firmware" Tab.</li>
	<li>Plug your PX4FMU board into your computer with the supplied USB cable.</li>
</ol>
</li>
</ol>
<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2012/01/PX4FMU_PX4IO_USB.jpg"><img class="alignnone size-full wp-image-5076" alt="PX4FMU_PX4IO_USB" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2012/01/PX4FMU_PX4IO_USB.jpg" width="1019" height="529" /></a>
<ol>
	<li><strong><span style="color: #0000ff">Under almost all circumstances you should use the default (Stable) release firmware.</span></strong>
<ol>
	<li>The "Beta firmwares" tab on the lower right is for developers and testers only and is <strong>NOT recommended for general use.</strong></li>
	<li>Select the Vehicle or Airframe icon that matches your configuration.</li>
	<li>When the Continue window pops up select the "Yes" button.</li>
	<li>When the reset window pops up press the reset button on the PX4FMU and within 5 seconds click on the "OK" button in the Window.</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/Px4ResetReq.png"><img class="alignnone size-full wp-image-5709" alt="Px4ResetReq" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/Px4ResetReq.png" width="346" height="136" /></a></li>
	<li>Your PX4FMU should now be <strong>erased</strong> and then the firmware should be <strong>written</strong> and then <strong>verified.</strong></li>
	<li>When you are warned to "Unplug and Replug in your PX4's USB before you Connect" select the "OK" button.</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4UnplugReplug.png"><img class="alignnone size-full wp-image-5710" alt="PX4UnplugReplug" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4UnplugReplug.png" width="391" height="127" /></a></li>
	<li>The PX4 is left in upload mode so you need to disconnect and reconnect to go to USB MavLink mode to talk to Mission Planner.</li>
	<li>If there are no error messages at any point in this process your PX4FMU Vehicle specific Firmware is now installed.</li>
	<li>Disconnect the PX4FMU board's USB cable from your Computer.</li>
	<li>If you are setting up a PX4FMU only with no PX4IO, ignore Instructions 3 and 4 below.</li>
</ol>
</li>
	<li><span style="color: #0000ff"><strong>If you are using a PX4IO board you will need to Load a copy of the PX4IO firmware to a MicroSD card.</strong></span>
<ol>
	<li>Put the Micro SD Memory card that was included in your PX4 kit in the also supplied MicroSD card adapter.</li>
	<li>Put the MicroSD card adapter into a USB port in your computer.</li>
	<li>If your Computers anti virus software asks if you would like to scan the card select do not scan.</li>
	<li>In Mission Planner in the "Firmware" section select the "PX4IO Firmware" Button.</li>
	<li>Click the "OK" button on the Pop Up "Please save the px4io.bin file to your microsd card window.</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOsdSave.png"><img class="alignnone size-full wp-image-5712" alt="PX4IOsdSave" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOsdSave.png" width="409" height="123" /></a></li>
	<li>In the "Save as Window" that appears, select your SD card "Removable Disk (x:)" from the left column.</li>
	<li>If there are already any files or folders in the SD card (removable disk) <strong>select them and DELETE them</strong>.</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOsaveBin.png"><img class="alignnone size-full wp-image-5738" alt="PX4IOsaveBin" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOsaveBin.png" width="676" height="437" /></a></li>
	<li>Click the "Save" button on the bottom right to save "px4io.bin" to the SD card.</li>
	<li>If you get a Fail window, Select your SD card (Removable Disk F: above) with the mouse then click the save button again.
<ol>
	<li>This fail resulted from deleting an already existing APM folder which reset the file pointer to the deleted folder.</li>
</ol>
</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOfailtosave1.png"><img class="alignnone size-full wp-image-5716" alt="PX4IOfailtosave" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOfailtosave1.png" width="573" height="169" /></a></li>
	<li>When the Pop up menu telling you how to complete installation to the PX4IO board appears select the "OK" button.</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOhowtoUploadtoSD.png"><img class="alignnone size-full wp-image-5714" alt="PX4IOhowtoUploadtoSD" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOhowtoUploadtoSD.png" width="495" height="162" /></a></li>
</ol>
</li>
	<li><span style="color: #0000ff"><strong>Upload the Firmware driver for the PX4IO board from your Micro SD card.</strong></span>
<ol>
	<li>Remove the microSD card from the reader and insert it in the slot in your PX4FMU card seating it correctly.</li>
	<li>Connect the PX4IO board to the PX4FMU board carefully ensuring the connectors are properly aligned.</li>
	<li>Connect the cable from the Safety button to the PX4IO board (the connector directly under the "Battery" connector).</li>
	<li>Hold down the Safety button and plug in the PX4FMU USB port to your computer.
<ol>
	<li>Continue to hold the safety button down:</li>
	<li>The PX4 will begin a continuous 3 tone sequence.</li>
	<li>It will then play a double high tone if it succeeds or a double low tone if it fails.</li>
	<li>In either case you can release the button after the concluding tones.</li>
</ol>
</li>
	<li>Disconnect the USB cable and Remove the SD card and check it on your computer in your SD card reader.</li>
	<li> The SD card will now have an <strong>APM</strong> directory, a <strong>px4io.bin</strong> file and a <strong>PX4IO_~1.LOA</strong> (or <strong>px4io.loaded</strong>) file.
<ol>
	<li>This confirms the firmware is loaded to the PX4IO board.</li>
</ol>
</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOloaded.png"><img class="alignnone size-full wp-image-5741" alt="PX4IOloaded" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOloaded.png" width="771" height="243" /></a></li>
	<li>In the APM directory, the new "<strong>boot.log</strong>" text file should confirm "erase, programming, verify and update complete".</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOloadedAPMdir.png"><img class="alignnone size-full wp-image-5743" alt="PX4IOloadedAPMdir" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOloadedAPMdir.png" width="803" height="243" /></a></li>
	<li>You can click on the "boot.log" file to confirm the load to the PX4IO board was successful.</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOsdBootLog.png"><img class="alignnone size-full wp-image-5724" alt="PX4IOsdBootLog" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4IOsdBootLog.png" width="763" height="102" /></a></li>
	<li>And the "px4io_update.log" file should <strong>(end)</strong> as below to indicate successful writing to the PX4IO board.</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/Px4ioUpdateLog.png"><img class="alignnone size-full wp-image-5745" alt="Px4ioUpdateLog" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/Px4ioUpdateLog.png" width="849" height="99" /></a></li>
	<li>Close the file and remove the MicroSD card from your computer and reinsert it in your PX4FMU board.</li>
</ol>
</li>
</ol>


<h3>Check that your PX4 Firmware Installation is working correctly</h3>




<ol>
	<li><strong></strong><span style="color: #0000ff"><strong>You can hook up your GPS cable to the PX4FMU and the GPS module at this time.</strong></span>
<ol>
	<li>Use the special 5 to 6 pin GPS adapter cable, supplied separately from the GPS module (not in the same bag).</li>
	<li>Connect the beige GPS cables plug to the beige GPS connector on the PX4FMU board (next to the 15 pin Multi connector).</li>
	<li>Connect the white plug on the GPS adapter cable to the white connector on the GPS board.</li>
</ol>
</li>
	<li><span style="color: #0000ff"><strong>Start Mission Planner.</strong></span>
<ol>
	<li><span style="color: #000000">Plug the USB cable in to your to your PX4FMU board.</span></li>
	<li><span style="color: #000000"> Ensure that your MicroSD card is properly inserted in the PX4FMU's slot.</span></li>
	<li>In mission Planner ensure that the COM port for your PX4FMU board is selected and the bps rate is set to 115,200.</li>
	<li>Wait at least 10 seconds (The Px4 should emit a short beep sequence)
<ol>
	<li>Click the "Connect" button in the upper right of the Mission Planner Screen.</li>
</ol>
</li>
	<li>A window should now appear that indicates "MavLink Connecting".</li>
	<li>After a few seconds the parameter list should start to upload from the PX4FMU board into Mission Planner.</li>
	<li><a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4MavLinkConnecting.png"><img class="alignnone size-full wp-image-5729" alt="PX4MavLinkConnecting" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4MavLinkConnecting.png" width="322" height="182" /></a></li>
</ol>
</li>
	<li><span style="color: #0000ff"><strong>If the Parameter List uploads successfully you have a functioning PX4 system.</strong></span>
<ol>
	<li>If it produces an error or times out without uploading the parameter list there is a problem.
<ol>
	<li>Try unplugging the PX4 USB and the plugging it back in and after 10 seconds "Connecting" again.</li>
</ol>
</li>
	<li>If the PX4 is working correctly, when you move the board, the HUD screen will move.</li>
	<li>Select the "Status" tab in the left middle of the Mission Planner Window to see current inputs from the PX4's sensors.</li>
	<li>If the GPS is hooked up, after a few minutes it may be able to find enough satellites to show your position even indoors.
<ol>
	<li>When the Blue LED on the GPS board starts blinking it indicates it has a GPS lock.</li>
	<li>You can check your satellite count on the "Status" window you opened above.</li>
</ol>
</li>
	<li>Cick on the "Connect" tab to disconnect and unplug the USB cable when you are done.</li>
</ol>
</li>
	<li><strong><span style="color: #0000ff">Additional firmware and alternate methods may be found here:</span> <a title="setup" href="http://firmware.diydrones.com/">ArduPilot Firmware Builds Site</a></strong></li>
</ol>



<a id="Flight_Data"></a>Mission Planner Flight Data Screen
<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/MissionPlannerPX4FlightData1.jpg"><img class="alignnone size-full wp-image-4166" alt="MissionPlannerPX4FlightData1" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/MissionPlannerPX4FlightData1.jpg" width="1024" height="730" /></a>