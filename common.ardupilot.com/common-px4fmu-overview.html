<!-- 
START METADATA - Only title should be translated 
slug: common-px4fmu-overview 
title: common-PX4FMU Overview 
id: 314 
menu_order: 30 
post_parent_id: 301 
post_parent_stub: common-autopilots 
post_parent_title: common-Autopilot Hardware Options 
END METADATA 
-->
This page provides an overview of the PX4 Flight Management Unit.

<h1>Pixhawk (FMUv2) and PX4 (FMUv1)</h1>

There are now two separate platforms supporting the PX4 system:
<ul>
	<li>The Pixhawk (FMUv2) single board flight controller.</li>
	<li>And the original PX4 system which consists of the PX4 FMUv1 and various piggyback boards including the PX4IO and PX4IOAR.</li>
</ul>
The new Pixhawk also incorporates several additional features to provide extended capabilities for our APM flight system.

A connector diagram of the Pixhawk is shown below, but <a href="/wiki/common-pixhawk-overview/">Go to this link for full information on the Pixhawk</a>


<h1>The PX4 (FMUv1) Flight Management System Includes:</h1>

<ul>
	<li><strong>The PX4-FMU (Flight Management Unit).</strong>
<ul>
	<li>A powerful Cortex M4F microcontroller and flash memory for controlling flight and communications.</li>
	<li>A socket for a plug in SD memory card.</li>
	<li>A 3 axis gyro for determining orientation.</li>
	<li>A 3 axis Accelerometer for determining outside influences.</li>
	<li>A Magnetometer for determining compass heading.</li>
	<li>A Barometric pressure sensor for determining altitude.</li>
	<li>A Connection for an externally mountable UBLOX LEA GPS for determining absolute position.</li>
	<li>Stackable board interconnections for adding various peripheral boards.</li>
	<li>Communications interfaces for USB, JTAG and Serial connections.</li>
	<li>Connections for PPM-SUM RC radio input and servo outputs.</li>
</ul>
</li>
	<li><strong>The PX4-IO (Input Output) Board.</strong>
<ul>
	<li>Contains its own on board microcontroller and stacks with the FMU.</li>
	<li>Direct battery input power supply.</li>
	<li>8 High speed servo PWM outputs.</li>
	<li>Futaba SBUS or PPM-SUM serial servo output.</li>
	<li>A variety of PPM-SUM / SBUS input connectors.</li>
	<li>Two user assignable relays, two 1/2 amp 5 volt outputs and an analog input port.</li>
</ul>
</li>
	<li><strong>The PX4-FLOW Smart (Optical Flow) Camera.</strong>
<ul>
	<li>Specialized downward pointing camera module that uses ground texture and features to determine aircraft motion over the ground.</li>
	<li>The PX4 Flow has the same powerful Cortex M4F Microcontroller as is used in the PX4FMU.</li>
	<li>The built in microcontroller performs on board automated binned pixel image analysis to determine motion relative to ground.</li>
	<li>A built in 3 axis gyro enables automatic compensation for variance in aircraft tilt angle.</li>
</ul>
</li>
	<li><strong>The PX4-IOAR Quad Carrier is a specialized interface board for the Parrot AR.Drone.</strong></li>
</ul>



<strong>The PX4 FMU circuit board comes preassembled and ready to load the firmware for your airframe using the Mission Planner.</strong>

<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4OverviewDiagram.png"><img class="alignnone size-full wp-image-5764" alt="PX4OverviewDiagram" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4OverviewDiagram.png" width="720" height="472" /></a>



<h1>Detailed Description</h1>
<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4-2.jpg"><img class="alignnone size-full wp-image-5553" alt="PX4 2" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/PX4-2.jpg" width="800" height="600" /></a>



<strong>The Back of the PX4 FMU showing the SD card carrier and buzzer socket:</strong>

<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/03/PX4FMUbottom1.jpg"><img class="alignnone size-full wp-image-3866" alt="PX4FMUbottom1" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/03/PX4FMUbottom1.jpg" width="651" height="479" /></a>



<h1>PX4FMU Connector diagram</h1>

<a href="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/px4fmu-pinout.jpg"><img class="alignnone size-full wp-image-5767" alt="px4fmu-pinout" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2013/04/px4fmu-pinout.jpg" width="652" height="180" /></a>




<h1>Analog and digital pins</h1>

This section lists what pins (analog and digital) are available on the PX4. 


<h2>PX4v1 Analog inputs</h2>

The PX4 has the following “available” Analog input port pins which may be put to a variety of uses.

<strong>Pin 10</strong> (High voltage analog pin): 
<ul>
        <li>FMU battery voltage measured on pin 5 of the 15 pin multi-connector on the end of the FMU board. It has 5.7:1 scaling, allowing it to measure up to 18.8V.</li>
	<li>Located on pin 5 of the DF13 15 pin "multi-connector" of the PX4FMU board.</li>
	<li>This pin can accept up to 18.6 volts. (You can add an additional resistor divider and set the scaling appropriately for higher voltages).</li>
	<li>With the Advanced Parameter VOLT_DIVIDER set to 1 voltage can be read directly.
           <ul>
	    <li>For old releases VOLT_DIVIDER needed to be set to 5.66 for direct voltage scaling.</li>
           </ul></li>
</ul>


<strong>Pin 11</strong> (Analog airspeed input pin)
<ul>
	<li>Located on pin 2 of the 3 pin "FMU-PRS" DF13 connector on the PX4IO board.</li>
	<li>Generally used in APM:Plane for the Air Speed Sensor with VCC on pin 1, Sensor on pin 2 and Ground on pin 3.
        <ul>
	<li>APM:Plane Advanced Parameter: ASPD_PIN set to 11.</li>
        </ul> </li>
	<li>This pin is directly connected to the ADC on the PX4FMU.</li>
	<li>This pin can accept up to 6.6 volts (it has an internal voltage divider with 2:1 scaling).</li>
</ul>



<strong>Pin 12</strong> (Analog 2 input)
<ul>
	<li>Located on pin 3 of the "FMU-SPI" port on the PX4IO board.</li>
	<li>Commonly used for Sonar
<ul>
	<li>APM:Copter and APM:Rover Advanced Parameter: SONAR_PIN set to 12</li>
</ul>
</li>
	<li>This pin is directly connected to the ADC on the PX4FMU.</li>
	<li>This pin can accept up to 3.3 volts.</li>
</ul>


<strong>Pin 13</strong> (Analog 3 input)
<ul>
	<li>Located on pin 4 of the "FMU-SPI" port on the PX4IO board.</li>
	<li>Commonly used for Sonar 2 in dual Sonar installations.
<ul>
	<li>APM:Rover Advanced Parameter: SONAR2_PIN set to 13</li>
</ul>
</li>
	<li>This pin is directly connected to the ADC on the PX4FMU.</li>
	<li>This pin can accept up to 3.3 volts.</li>
</ul>


<strong>Pin 100</strong> (Battery voltage measured on the power connector on the IO board. Limit is 18V).

<ul>
	<li>A virtual analog input pin for voltage of a battery connected to the 6V to 18V input of the PX4IO voltage regulator.</li>
	<li>This is the normal pin to use for LiPo monitoring on the PX4IO.</li>
	<li>If using this pin then set VOLT_DIVIDER to 1 for correct battery voltage reading.</li>
	<li>Virtual "pin" 100's input comes only from the battery power in jack on the PX4IO board.</li>
	<li>This "pin" is not brought out for separate user access.</li>
	<li>This pin is separate from the Pin 10 high voltage analog pin on the PX4FMU listed above which can also be used as a battery voltage monitor.</li>
</ul>



<strong>Pin 101</strong>: Battery current measured on the pin next to the power connector on the IO board. 

A virtual analog input pin for a battery current sensor connected to the "current" pin next to the power connector on the PX4IO.
<ul>
	<li>This pin can accept up to 3.3 volts. [warning]You need to be careful to use a current sensor that will not provide over 3.3V as too high a voltage on this pin can cause the PX4IO to reset.[/warning]</li>
	<li>For use with a current sensor, a 0.1uF capacitor between this pin and ground will help reduce "noise".</li>
</ul>

<a href="http://planner.ardupilot.com/wp-content/uploads/sites/5/2014/01/px4-pins2.jpg"><img class="alignnone wp-image-1726" alt="px4 pins2" src="http://planner.ardupilot.com/wp-content/uploads/sites/5/2014/01/px4-pins2-300x206.jpg" width="300" height="206" /></a>

<a href="http://planner.ardupilot.com/wp-content/uploads/sites/5/2014/01/px4-pins.jpg"><img class="alignnone wp-image-1728" alt="px4 pins" src="http://planner.ardupilot.com/wp-content/uploads/sites/5/2014/01/px4-pins-300x225.jpg" width="200" height="150" /></a>



<h2>PX4v1 Digital outputs</h2>
The PX4V1 digital output pins come in two types, one is pins that give 5V when on and 0V when off, and the other are 'relay' pins which provide low resistance when on and high resistance when off.

<strong>Pin 111</strong>: FMU Relay pin 1

<strong>Pin 112</strong>: FMU Relay pin 2

<strong>Pin 113</strong>: IO Relay pin 1

<strong>Pin 114</strong>: IO Relay pin 2

<strong>Pin 115</strong>: IO digital accessory pin 1

<strong>Pin 116</strong>: IO digital accessory pin 2

