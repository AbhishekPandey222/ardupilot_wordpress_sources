<!-- 
START METADATA - Only title should be translated 
slug: common-ublox-gps 
title: common-UBlox GPS Configuration 
id: 317 
menu_order: 0 
post_parent_id: 0 
post_parent_stub:  
post_parent_title:  
END METADATA 
-->
<a href="http://store.3drobotics.com/products/3dr-gps-ublox-with-compass" target="_blank">3DR uBlox</a> modules are shipped with a <a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_GPS/config" target="_blank">custom configuration</a> that is compatible with Copter, Rover and Plane.  This article explains how you can reprogram the custom configuration if needed (this is not expected to be necessary for normal users).
<!--more-->
<img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2012/12/3DR-ublox.jpg" alt="" />



<h1>Connection Option #1 - Mission Planner and Pixhawk as Passthrough</h1>

The mission planner and pixhawk can pass through the communication between u-center and the GPS by doing the following:
<ul>
	<li>Connect to Pixhawk to your PC and connect with the Mission Planner</li>
	<li>On the Flight Data screen press Ctrl-F and then select "MAVSerial pass"</li>
	<li>Open u-center and select Receiver, TCP Client and in the Network Connection window set Address to "localhost" and Port to "500" and press OK.</li>
	<li>See instructions below as to how to upload config with u-center.</li>
</ul>
<a href="http://planner.ardupilot.com/wp-content/uploads/sites/5/2013/06/GPS_PassThrough_MP.png"><img class="alignnone size-full wp-image-4637" src="http://planner.ardupilot.com/wp-content/uploads/sites/5/2013/06/GPS_PassThrough_MP.png" alt="GPS_PassThrough_MP" width="1154" height="805" /></a>
<a href="http://planner.ardupilot.com/wp-content/uploads/sites/5/2013/06/GPS_PassThrough_Ucenter.png"><img class="alignnone size-full wp-image-4638" src="http://planner.ardupilot.com/wp-content/uploads/sites/5/2013/06/GPS_PassThrough_Ucenter.png" alt="GPS_PassThrough_Ucenter" width="782" height="714" /></a>
<h1>Connection Option #2 - FTDI cable</h1>
You will need an <a href="https://store.3drobotics.com/products/ftdi-cable-3-3v" target="_blank">FTDI cable</a> and a <a href="https://store.3drobotics.com/t/parts/gps" target="_blank">GPS adapter cable</a> to connect the GPS to your computer. If you have never plugged an FTDI device into your computer, you may need to download and install the <a href="http://www.ftdichip.com/Drivers/VCP.htm" target="_blank">Virtual COM port driver</a>.
<a href="http://planner.ardupilot.com/wp-content/uploads/sites/5/2013/06/IMG_0276.jpg"><img class="alignnone size-medium wp-image-583" src="http://planner.ardupilot.com/wp-content/uploads/sites/5/2013/06/IMG_0276-300x168.jpg" alt="IMG_0276" width="300" height="168" /></a>
<h1>Connection Option #3 - using the APM2 as a passthrough</h1>
<ul>
	<li>Download the <a href="http://ardupilot.com/downloads/?did=93" target="_blank">APM / UBlox passthrough</a> binary to your computer</li>
	<li>Load the binary onto your APM2 using the <strong>Mission Planner's Initial Setup | Install Firmware | Load custom firmware link</strong></li>
</ul>
http://www.youtube.com/watch?v=JIgs3UCLfd0
<h1>Installing and Uploading the config using U-Center</h1>
<ul>
	<li>Download and install <a href="http://www.u-blox.com/en/evaluation-tools-a-software/u-center/u-center.html" target="_blank">uBlox's u-center software</a>   Note that this is Windows only.</li>
	<li>Get the 3DR-Ublox.txt configuration file found <a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_GPS/config" target="_blank">here</a>.</li>
	<li>Run u-center and connect your uBlox to your computer.</li>
	<li>Click the magic wand button to enable auto-bauding, then select your appropriate COM port by clicking the down arrow next to the Connect button. If the uBlox is connected to the port you selected, you should see the serial activity indicator blinking in the program's status bar in the lower right-hand corner of the window, it also shows the current baud rate.
<img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2012/12/COM-port-selection.png" alt="" /></li>
</ul>
<ul>
	<li>To load the configuration file, In u-center go to the Tools menu, then GPS Configuration. A small window should appear. Add the path to the <strong>3DR-Ublox.txt</strong> configuration file, enable the <strong>Store configuration into BBR/Flash (non-volatile memory)</strong> option, and click the <strong>File | GPS</strong> button.
<img class="alignleft" src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2012/12/GPS-configuration.png" alt="" width="366" height="239" /><img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2012/12/configuration-window.png" alt="" width="324" height="254" /></li>
</ul>
You may get a <strong>Configuration Version Check</strong> alert telling you there is a version mismatch between the configuration file and the GPS.  This is because the configuration file was written for the GPS software version 7.03 so if you have a module with an older version (i.e. 7.01) it will complain but will likely still work. Click yes to continue.

You should see a window with a log of the configuration file upload, if the upload is successful the window should close automatically and the GPS module should now be connected to u-center at 38400 baud. You can confirm this by checking the connection status in u-center's status bar.

<img src="http://copter.ardupilot.com/wp-content/uploads/sites/2/2012/12/connection-status.png" alt="" />

The uBlox module is now ready to be used with Copter, Rover or Plane on the APM2, PX4/Pixhawks.